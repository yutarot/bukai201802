<!DOCTYPE html>
<html>

<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1">

<link rel="stylesheet" type="text/css" href="base.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.1/Chart.min.js"></script>
<script
  src="https://code.jquery.com/jquery-2.2.4.min.js"
  integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="
  crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.1/Chart.min.js"></script>

<title>takei.work</title>
</head>

<body>
<!-- questions -->
<article id="questions">

<div class="question">
<div>1) 初対面の人を覚えるときのポイントは何ですか？</div>
<div>
<input value="3" name="q1" type="radio" id="q1-1" />
<label for="q1-1">顔や雰囲気で覚える</label>
</div>
<div>
<input value="5" name="q1" type="radio" id="q1-2" />
<label for="q1-2">名刺の文字で覚える</label>
</div>
<div>
<input value="7" name="q1" type="radio" id="q1-3" />
<label for="q1-3">名前の響きから覚える</label>
</div>
</div>

<div class="question">
<div>2) 自宅に人を招くとき、最寄りの駅から家までの道順をどうやって説明しますか？</div>
<div>
<input value="3" name="q2" type="radio" id="q2-1" />
<label for="q2-1">地図を書いて渡す</label>
</div>
<div>
<input value="5" name="q2" type="radio" id="q2-2" />
<label for="q2-2">近くまで来てもらい、電話でそこから何が見えるかを手がかりに道順を伝える</label>
</div>
<div>
<input value="7" name="q2" type="radio" id="q2-3" />
<label for="q2-3">事前に言葉で道順を説明する</label>
</div>
</div>

<input id="submitButton" type="button" value="submit">
</article>
<!-- /questions -->

<article id="result" style="display:none;">
<canvas id="myChart"></canvas>
<input type="button" id="backButton" value="back">
</article>

<!-- chart function -->
<script>

// 色の設定
var colorSet = {
		red: 'rgb(255, 99, 132)',
		orange: 'rgb(255, 159, 64)',
		yellow: 'rgb(255, 205, 86)',
		green: 'rgb(75, 192, 192)',
		blue: 'rgb(54, 162, 235)',
		purple: 'rgb(153, 102, 255)',
		grey: 'rgb(201, 203, 207)'
};

// 色のRGB変換
var color = Chart.helpers.color;

/*
 * チャートの初期設定
 */
var config = {
		type: 'radar',
		data: {
				labels: ["カメラタイプ", "3Dタイプ", "ファンタジータイプ", "辞書タイプ", "ラジオタイプ", "サウンドタイプ"],
				datasets: [{
						label: "あなたの特性",
						backgroundColor: color(colorSet.red).alpha(0.5).rgbString(),
						borderColor: colorSet.red,
						pointBackgroundColor: colorSet.red,
						data: [5, 6, 7, 8, 9, 1]
				},]
		},
		options: {
				animation:false,
				showTooltips: false,
				legend: { position: 'bottom' },
				title: {
						display: true,
						fontSize:14,
						fontColor:'#666',
						text: 'あなたの認知特性'
				},
				scale: {
						display: true,
						pointLabels: {
								fontSize: 10,
								fontColor: colorSet.yellow
						},
						ticks: {
								display: true,
								fontSize: 12,
								fontColor: colorSet.green,
								beginAtZero: true
						},
						gridLines: {
								display: true,
								color: colorSet.yellow
						}
				}
		}
};

/*
 * チャートの作成
 */
$('#submitButton').on('click', function (e) {
		console.log('clicked');
		var $chart = $('#myChart');
		var myRadar = new Chart($chart, config);
		$('#questions').fadeOut(500);
		setTimeout(function(){
				$('#result').fadeIn(500);
		}, 1000);
});

$('#backButton').on('click', function (e) {
		$('#result').fadeOut(500);
		setTimeout(function(){
				$('#questions').fadeIn(500);
		}, 1000);
});
</script>
<!-- /chart function -->
</body>

</html>
